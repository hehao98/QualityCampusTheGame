# 贡献守则

## 开发流程

对于每一个开发任务，请创建自己的分支然后以Pull Request的形式Merge回Master分支。

提交前代码必须

1. 通过ESLint风格检查
2. 必须能够在引擎内编译成功，并且导入脚本后，游戏场景正常运行
3. 对于游戏逻辑相关代码，必须通过全部单元测试，如果添加了新功能，必须添加相应的单元测试

## JavaScript代码规范

1. 使用四个空格缩进。
2. 在每个语句之后增加分号。
3. 字符串一律使用双引号。
4. 声明变量一律使用`let`。
5. 使用`===`，不要使用`==`。
6. 其他常见的JavaScript安全规范。
7. 不得使用单字母变量。（老师说会去检查）
8. 尽量不要在master分支出现调试代码。

一些设置与JavaScript常见规范不同，是为了让代码风格与其他游戏编程常用语言(例如C#)看上去比较接近。这些代码风格由ESLint自动控制。在`package.json`中对`git`设置了precommit hook，因此在提交代码前这些风格会被自动检查。

如果要手动检查的话，可以使用如下命令

```
npm run lint
```

也可以**在`asset/`文件夹下**运行以下命令。

```
eslint . --fix
```

请不要在根目录下运行以上命令，因为其他目录下可能存在大量由引擎生成的脚本。

要运行单元测试，请在项目根目录下

```
npm test
```

